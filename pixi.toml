[workspace]
name = "bazzite-ai-docs"
version = "0.1.0"
description = "Bazzite AI Documentation"
channels = ["conda-forge"]
platforms = ["linux-64"]

[dependencies]
python = ">=3.11,<3.12"
# Other Sphinx dependencies from conda-forge
myst-parser = ">=2.0.0"
pydata-sphinx-theme = ">=0.15.0"
sphinx = ">=7.0.0"
sphinx-design = ">=0.5.0"
sphinx-copybutton = ">=0.5.0"
sphinx-sitemap = ">=2.5.0"
sphinx-autobuild = ">=2024.0.0"
sphinx-tabs = ">=3.4.0"
sphinxcontrib-mermaid = ">=0.9"

[pypi-dependencies]
# Jupyter Book 2.x pre-release only available via PyPI (currently 2.0.0b3)
jupyter-book = ">=2.0.0b0,<3.0"

[feature.dev.dependencies]
# Pre-commit framework and Python linters
pre-commit = ">=4.0.0"

[feature.dev.tasks]
# Linting tasks that can be run with 'pixi run <task>'
lint-install = "pre-commit install && pre-commit install --hook-type commit-msg"
lint = "pre-commit run --all-files"
lint-staged = "pre-commit run"
lint-fix = "pre-commit run --all-files"
lint-update = "pre-commit autoupdate"

[tasks]
# Documentation tasks that can be run with 'pixi run <task>'
# Note: JB 2.0 uses 'build --html' for static HTML, 'start' for dev server
docs-install = "echo 'âœ“ Dependencies already managed by pixi'"
docs-build = "cd docs && jupyter-book build --html"
docs-serve = "cd docs && jupyter-book start"
docs-clean = "cd docs && jupyter-book clean --all"
docs-rebuild = { depends-on = ["docs-clean", "docs-build"] }

[environments]
default = ["dev"]
